<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>MediumMapTest.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">Merged (Apr 28, 2025 8:22:47 PM)</a> &gt; <a href="../../index.html" class="el_group">TowerDefenseGame</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.source.html" class="el_package">test.whitebox</a> &gt; <span class="el_source">MediumMapTest.java</span></div><h1>MediumMapTest.java</h1><pre class="source lang-java linenums">package test.whitebox;

import static org.junit.jupiter.api.Assertions.*;
import org.junit.jupiter.api.Test;
import grid.PathTile;
import grid.Tile;

<span class="fc" id="L8">public class MediumMapTest {</span>
    
    @Test
    void testMediumMapConstructor() {
<span class="fc" id="L12">    	map.MediumMap mediumMap = new map.MediumMap();</span>
        
        // Test dimensions
<span class="fc" id="L15">        assertEquals(15, mediumMap.getWidthOfMap());</span>
<span class="fc" id="L16">        assertEquals(12, mediumMap.getHeightOfMap());</span>
<span class="fc" id="L17">        assertEquals(15 * 32, mediumMap.getWidthInPixel());</span>
<span class="fc" id="L18">        assertEquals(12 * 32, mediumMap.getHeightInPixel());</span>
        
        // Test path input
<span class="fc" id="L21">        assertEquals(&quot;(1, 11) (1,9) (12,9) (12,7) (4,7) (4,1) (14,1)&quot;, mediumMap.getInputCorner());</span>
        
        // Test if map is valid
<span class="fc" id="L24">        assertTrue(mediumMap.ValidityOfMap());</span>
        
        // Test entry and exit points
<span class="fc" id="L27">        PathTile entry = mediumMap.getEntry();</span>
<span class="fc" id="L28">        assertNotNull(entry);</span>
<span class="fc" id="L29">        assertEquals(1, entry.getX());</span>
<span class="fc" id="L30">        assertEquals(11, entry.getY());</span>
<span class="fc" id="L31">        assertEquals(2, mediumMap.getTile(1, 11).getType()); // Entry type = 2</span>
        
        // Exit should be the last coordinate
<span class="fc" id="L34">        assertEquals(3, mediumMap.getTile(14, 1).getType()); // Exit type = 3</span>
        
        // Check path exists
//        assertPathExistsBetweenPoints(mediumMap, 1, 11, 1, 9);
//        assertPathExistsBetweenPoints(mediumMap, 1, 9, 12, 9);
//        assertPathExistsBetweenPoints(mediumMap, 12, 9, 12, 7);
//        assertPathExistsBetweenPoints(mediumMap, 12, 7, 4, 7);
//        assertPathExistsBetweenPoints(mediumMap, 4, 7, 4, 1);
//        assertPathExistsBetweenPoints(mediumMap, 4, 1, 14, 1);
        
        // Test corner array
<span class="fc" id="L45">        int[][] cornerArray = mediumMap.getCornersList();</span>
<span class="fc" id="L46">        assertNotNull(cornerArray);</span>
<span class="fc" id="L47">        assertEquals(7, cornerArray.length); // 7 corners in the path</span>
        
        // Binary map conversion check
<span class="fc" id="L50">        int[][] binaryMap = mediumMap.convertToBinaryMap(mediumMap);</span>
<span class="fc" id="L51">        assertNotNull(binaryMap);</span>
<span class="fc" id="L52">        assertEquals(15, binaryMap[0].length);</span>
<span class="fc" id="L53">        assertEquals(12, binaryMap.length);</span>
<span class="fc" id="L54">    }</span>
    
    private void assertPathExistsBetweenPoints(map.Map map, int x1, int y1, int x2, int y2) {
        // Horizontal path
<span class="nc bnc" id="L58" title="All 2 branches missed.">        if (y1 == y2) {</span>
<span class="nc" id="L59">            int start = Math.min(x1, x2);</span>
<span class="nc" id="L60">            int end = Math.max(x1, x2);</span>
<span class="nc bnc" id="L61" title="All 2 branches missed.">            for (int x = start; x &lt;= end; x++) {</span>
<span class="nc" id="L62">                Tile tile = map.getTile(x, y1);</span>
<span class="nc bnc" id="L63" title="All 2 branches missed.">                assertTrue(tile.getType() &gt; 0, &quot;Path should exist at (&quot; + x + &quot;,&quot; + y1 + &quot;)&quot;);</span>
            }
<span class="nc" id="L65">        }</span>
        // Vertical path
<span class="nc bnc" id="L67" title="All 2 branches missed.">        else if (x1 == x2) {</span>
<span class="nc" id="L68">            int start = Math.min(y1, y2);</span>
<span class="nc" id="L69">            int end = Math.max(y1, y2);</span>
<span class="nc bnc" id="L70" title="All 2 branches missed.">            for (int y = start; y &lt;= end; y++) {</span>
<span class="nc" id="L71">                Tile tile = map.getTile(x1, y);</span>
<span class="nc bnc" id="L72" title="All 2 branches missed.">                assertTrue(tile.getType() &gt; 0, &quot;Path should exist at (&quot; + x1 + &quot;,&quot; + y + &quot;)&quot;);</span>
            }
        }
<span class="nc" id="L75">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span>Merged (Apr 28, 2025 8:22:47 PM)</div></body></html>